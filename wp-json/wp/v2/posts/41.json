{"id":41,"date":"2017-02-09T15:15:30","date_gmt":"2017-02-09T14:15:30","guid":{"rendered":"https:\/\/domo.easter.fr\/?p=41"},"modified":"2017-06-26T14:38:00","modified_gmt":"2017-06-26T12:38:00","slug":"mi-flower-et-domoticz","status":"publish","type":"post","link":"https:\/\/domo.easter.fr\/2017\/02\/09\/mi-flower-et-domoticz\/","title":{"rendered":"Mi Flower et Domoticz"},"content":{"rendered":"<p><img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-full wp-image-42\" src=\"https:\/\/domo.easter.fr\/wp-content\/uploads\/2017\/02\/ico_miflora.png\" alt=\"\" width=\"491\" height=\"184\" srcset=\"https:\/\/domo.easter.fr\/wp-content\/uploads\/2017\/02\/ico_miflora.png 491w, https:\/\/domo.easter.fr\/wp-content\/uploads\/2017\/02\/ico_miflora-300x112.png 300w\" sizes=\"auto, (max-width: 491px) 100vw, 491px\" \/><\/p>\n<p><img loading=\"lazy\" decoding=\"async\" class=\"alignnone wp-image-44 size-full\" src=\"https:\/\/domo.easter.fr\/wp-content\/uploads\/2017\/02\/mi-plant.jpeg\" width=\"400\" height=\"400\" srcset=\"https:\/\/domo.easter.fr\/wp-content\/uploads\/2017\/02\/mi-plant.jpeg 400w, https:\/\/domo.easter.fr\/wp-content\/uploads\/2017\/02\/mi-plant-150x150.jpeg 150w, https:\/\/domo.easter.fr\/wp-content\/uploads\/2017\/02\/mi-plant-300x300.jpeg 300w\" sizes=\"auto, (max-width: 400px) 100vw, 400px\" \/><\/p>\n<p>Comment remonter les informations du Mi Flower dans Domoticz.<\/p>\n<p>Pr\u00e9requis :<\/p>\n<ul>\n<li>python3<\/li>\n<li>git<\/li>\n<li>bluez<\/li>\n<li>cl\u00e9 bluetooth (v4?)<\/li>\n<\/ul>\n<p>Il faut cr\u00e9er deux sensors virtuels, un pour la temp\u00e9rature et l&rsquo;humidit\u00e9 et l&rsquo;autre pour \u00ab\u00a0l&rsquo;engrais\u00a0\u00bb<\/p>\n<p>Comme pour <a href=\"https:\/\/domo.easter.fr\/?p=6\">Vigicrues<\/a>, il faut un Hardware Dummy puis la cr\u00e9ation de deux sensors virtuel.<\/p>\n<p>Pensez \u00e0 r\u00e9cup\u00e9rer les deux idx correspondant aux sensors.<\/p>\n<p>&nbsp;<\/p>\n<p>R\u00e9cup\u00e9rer <a href=\"https:\/\/github.com\/open-homeautomation\/miflora\">miflora<\/a>, la librairie pour lire le capteur bluetooth :<\/p>\n<p><code>git clone https:\/\/github.com\/open-homeautomation\/miflora.git<\/code><\/p>\n<p>Aller dans le r\u00e9pertoire miflora cr\u00e9\u00e9 puis \u00e9diter le fichier demo.py ou cr\u00e9er un autre script \u00e0 c\u00f4t\u00e9.<\/p>\n<p>Voici le code du script :<\/p>\n<p>[pastacode lang=\u00a0\u00bbpython\u00a0\u00bb user=\u00a0\u00bbchatainsim\u00a0\u00bb repos=\u00a0\u00bbscripts_domoticz\u00a0\u00bb path_id=\u00a0\u00bbmiflora.py\u00a0\u00bb revision=\u00a0\u00bbmaster\u00a0\u00bb highlight=\u00a0\u00bb\u00a0\u00bb lines=\u00a0\u00bb\u00a0\u00bb provider=\u00a0\u00bbgithub\u00a0\u00bb\/]<\/p>\n<p>Il suffit de faire tourner le script en crontab toute les heures par exemples.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>Comment remonter les informations du Mi Flower dans Domoticz. Pr\u00e9requis : python3 git bluez cl\u00e9 bluetooth (v4?) Il faut cr\u00e9er deux sensors virtuels, un pour la temp\u00e9rature et l&rsquo;humidit\u00e9 et l&rsquo;autre pour \u00ab\u00a0l&rsquo;engrais\u00a0\u00bb Comme pour Vigicrues, il faut un Hardware Dummy puis la cr\u00e9ation de deux sensors virtuel. Pensez \u00e0 r\u00e9cup\u00e9rer les deux idx correspondant [&hellip;]<\/p>\n","protected":false},"author":1,"featured_media":44,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"_crdt_document":"","site-container-style":"default","site-container-layout":"default","site-sidebar-layout":"default","site-transparent-header":"default","disable-article-header":"default","disable-site-header":"default","disable-site-footer":"default","disable-content-area-spacing":"default","iawp_total_views":14,"footnotes":""},"categories":[6,2,5],"tags":[],"class_list":["post-41","post","type-post","status-publish","format-standard","has-post-thumbnail","hentry","category-bluetooth","category-domoticz","category-python"],"_links":{"self":[{"href":"https:\/\/domo.easter.fr\/wp-json\/wp\/v2\/posts\/41","targetHints":{"allow":["GET"]}}],"collection":[{"href":"https:\/\/domo.easter.fr\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/domo.easter.fr\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/domo.easter.fr\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/domo.easter.fr\/wp-json\/wp\/v2\/comments?post=41"}],"version-history":[{"count":9,"href":"https:\/\/domo.easter.fr\/wp-json\/wp\/v2\/posts\/41\/revisions"}],"predecessor-version":[{"id":69,"href":"https:\/\/domo.easter.fr\/wp-json\/wp\/v2\/posts\/41\/revisions\/69"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/domo.easter.fr\/wp-json\/wp\/v2\/media\/44"}],"wp:attachment":[{"href":"https:\/\/domo.easter.fr\/wp-json\/wp\/v2\/media?parent=41"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/domo.easter.fr\/wp-json\/wp\/v2\/categories?post=41"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/domo.easter.fr\/wp-json\/wp\/v2\/tags?post=41"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}